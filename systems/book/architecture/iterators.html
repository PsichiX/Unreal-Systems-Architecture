<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Iterators - Systems - Modular and scalable game architecture for orthogonal game logic</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../documentation.html">Documentation</a></li><li class="chapter-item expanded "><a href="../../book/index.html">Book</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../book/getting_started.html">Getting started</a></li><li class="chapter-item expanded "><a href="../../book/architecture/index.html">Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../book/architecture/world.html">World</a></li><li class="chapter-item expanded "><a href="../../book/architecture/systems.html">Systems</a></li><li class="chapter-item expanded "><a href="../../book/architecture/components.html">Components</a></li><li class="chapter-item expanded "><a href="../../book/architecture/resources.html">Resources</a></li><li class="chapter-item expanded "><a href="../../book/architecture/subsystem.html">Subsystem</a></li><li class="chapter-item expanded "><a href="../../book/architecture/pipelines.html">Pipelines</a></li><li class="chapter-item expanded "><a href="../../book/architecture/iterators.html" class="active">Iterators</a></li><li class="chapter-item expanded "><a href="../../book/architecture/channels.html">Channels</a></li></ol></li><li class="chapter-item expanded "><a href="../../book/learning_materials/index.html">Learning materials</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../book/learning_materials/tutorial/index.html">Tutorial</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../book/learning_materials/tutorial/installation.html">Installation</a></li><li class="chapter-item expanded "><a href="../../book/learning_materials/tutorial/setup_component.html">Setup component</a></li><li class="chapter-item expanded "><a href="../../book/learning_materials/tutorial/setup_actor.html">Setup actor</a></li><li class="chapter-item expanded "><a href="../../book/learning_materials/tutorial/setup_system.html">Setup system</a></li><li class="chapter-item expanded "><a href="../../book/learning_materials/tutorial/setup_game.html">Setup game</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../reference.html">C++ API Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../reference/structs.html">Structs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../reference/structs/FActorsIter.html">FActorsIter</a></li><li class="chapter-item expanded "><a href="../../reference/structs/FArchetypeSignature.html">FArchetypeSignature</a></li><li class="chapter-item expanded "><a href="../../reference/structs/FInstallSystemOptions.html">FInstallSystemOptions</a></li><li class="chapter-item expanded "><a href="../../reference/structs/FMetronome.html">FMetronome</a></li><li class="chapter-item expanded "><a href="../../reference/structs/FSystemsPipelineComponent.html">FSystemsPipelineComponent</a></li><li class="chapter-item expanded "><a href="../../reference/structs/FSystemsPipelineResource.html">FSystemsPipelineResource</a></li><li class="chapter-item expanded "><a href="../../reference/structs/FSystemsPipelineSystem.html">FSystemsPipelineSystem</a></li><li class="chapter-item expanded "><a href="../../reference/structs/IterSizeHint.html">IterSizeHint</a></li><li class="chapter-item expanded "><a href="../../reference/structs/TQuery.html">TQuery</a></li><li class="chapter-item expanded "><a href="../../reference/structs/TReceiverChannel.html">TReceiverChannel</a></li><li class="chapter-item expanded "><a href="../../reference/structs/TResult.html">TResult</a></li><li class="chapter-item expanded "><a href="../../reference/structs/TSenderChannel.html">TSenderChannel</a></li><li class="chapter-item expanded "><a href="../../reference/structs/TTaggedQuery.html">TTaggedQuery</a></li></ol></li><li class="chapter-item expanded "><a href="../../reference/classes.html">Classes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../reference/classes/ASystemsActor.html">ASystemsActor</a></li><li class="chapter-item expanded "><a href="../../reference/classes/ASystemsGameMode.html">ASystemsGameMode</a></li><li class="chapter-item expanded "><a href="../../reference/classes/ASystemsGameState.html">ASystemsGameState</a></li><li class="chapter-item expanded "><a href="../../reference/classes/ASystemsPawn.html">ASystemsPawn</a></li><li class="chapter-item expanded "><a href="../../reference/classes/FSystemsReflection.html">FSystemsReflection</a></li><li class="chapter-item expanded "><a href="../../reference/classes/UDynamicIterator.html">UDynamicIterator</a></li><li class="chapter-item expanded "><a href="../../reference/classes/UDynamicQuery.html">UDynamicQuery</a></li><li class="chapter-item expanded "><a href="../../reference/classes/ULambdaSystem.html">ULambdaSystem</a></li><li class="chapter-item expanded "><a href="../../reference/classes/UScriptableSystem.html">UScriptableSystem</a></li><li class="chapter-item expanded "><a href="../../reference/classes/USystem.html">USystem</a></li><li class="chapter-item expanded "><a href="../../reference/classes/USystemsActorComponent.html">USystemsActorComponent</a></li><li class="chapter-item expanded "><a href="../../reference/classes/USystemsGroupComponent.html">USystemsGroupComponent</a></li><li class="chapter-item expanded "><a href="../../reference/classes/USystemsPipeline.html">USystemsPipeline</a></li><li class="chapter-item expanded "><a href="../../reference/classes/USystemsReflection.html">USystemsReflection</a></li><li class="chapter-item expanded "><a href="../../reference/classes/USystemsSceneComponent.html">USystemsSceneComponent</a></li><li class="chapter-item expanded "><a href="../../reference/classes/USystemsStatics.html">USystemsStatics</a></li><li class="chapter-item expanded "><a href="../../reference/classes/USystemsSubsystem.html">USystemsSubsystem</a></li><li class="chapter-item expanded "><a href="../../reference/classes/USystemsWorld.html">USystemsWorld</a></li></ol></li><li class="chapter-item expanded "><a href="../../reference/functions.html">Functions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../reference/functions/IterArray.html">IterArray</a></li><li class="chapter-item expanded "><a href="../../reference/functions/IterGenerate.html">IterGenerate</a></li><li class="chapter-item expanded "><a href="../../reference/functions/IterOnce.html">IterOnce</a></li><li class="chapter-item expanded "><a href="../../reference/functions/IterRange.html">IterRange</a></li><li class="chapter-item expanded "><a href="../../reference/functions/IterRepeat.html">IterRepeat</a></li><li class="chapter-item expanded "><a href="../../reference/functions/IterStd.html">IterStd</a></li><li class="chapter-item expanded "><a href="../../reference/functions/IterStdConst.html">IterStdConst</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Systems - Modular and scalable game architecture for orthogonal game logic</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="iterators"><a class="header" href="#iterators">Iterators</a></h1>
<h1 id="table-of-contents"><a class="header" href="#table-of-contents">Table of contents</a></h1>
<ul>
<li><a href="#explanation">Explanation</a></li>
<li><a href="#types-of-iterators">Types of iterators</a></li>
<li><a href="#creating-custom-iterators">Creating custom iterators</a>
<ul>
<li><a href="#anatomy-of-iterators">Anatomy of iterators</a></li>
<li><a href="#iterator-adapters">Iterator adapters</a></li>
</ul>
</li>
</ul>
<h1 id="explanation"><a class="header" href="#explanation">Explanation</a></h1>
<p>Iterators, or more precisely lazy iterators, are an useful tool for more efficient and
ergonomic processing of collections and procedural generators. Lazy iterators are lazy
because on their own they do not yield any values until consumed.</p>
<pre><code class="language-cpp">// [0.0, 4.0, 16.0, 36.0, 64.0]
const TArray&lt;float&gt; Result = IterRange(0, 10)
								 .Filter([](const auto&amp; Value) { return Value % 2 == 0; })
								 .Map&lt;float&gt;([](const auto&amp; Value) { return static_cast&lt;float&gt;(Value * Value); })
								 .CollectArray();
</code></pre>
<p>This lazyness allows us to produce more elaborated processing over data without making
unnecessary caching between iteration stages, and that also makes iteration code cleaner
and easier to reason about.</p>
<h1 id="types-of-iterators"><a class="header" href="#types-of-iterators">Types of iterators</a></h1>
<ul>
<li>
<p>Consumers</p>
<p>Consumers are final iterators that consume yielded values and produce some result out
of it, usually single value.</p>
<pre><code class="language-cpp">// 5
const TOptional&lt;int&gt; Result = IterRange(0, 10).Find([](const auto&amp; Value) { return Value &gt;= 5; });
</code></pre>
<ul>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#count"><strong><code>TQuery::Count</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#nth"><strong><code>TQuery::Nth</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#fold"><strong><code>TQuery::Fold</code></strong></a></li>
<li><code>IterSum</code></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#nth"><strong><code>TQuery::Nth</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#find"><strong><code>TQuery::Find</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#findmap"><strong><code>TQuery::FindMap</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#first"><strong><code>TQuery::First</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#last"><strong><code>TQuery::Last</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#foreach"><strong><code>TQuery::ForEach</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#any"><strong><code>TQuery::Any</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#all"><strong><code>TQuery::All</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#comparedby"><strong><code>TQuery::ComparedBy</code></strong></a></li>
</ul>
</li>
<li>
<p>Colectors</p>
<p>Collectors are special kind of consumer iterators that are an explicit way to collect
all yielded values into commonly used collections such as <code>TArray</code>, <code>TSet</code> and <code>TMap</code>.</p>
<pre><code class="language-cpp">const TArray&lt;int&gt; Result = IterRange(0, 10).CollectArray();
</code></pre>
<ul>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#collectarray"><strong><code>TQuery::CollectArray</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#collectintoarray"><strong><code>TQuery::CollectIntoArray</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#collectset"><strong><code>TQuery::CollectSet</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#collectintoset"><strong><code>TQuery::CollectIntoSet</code></strong></a></li>
<li><code>IterCollectMap</code></li>
<li><code>IterCollectIntoMap</code></li>
</ul>
</li>
<li>
<p>Converters</p>
<p>Converters are stages of iteration that converts values yielded by previous iteration
stages into some new values.</p>
<pre><code class="language-cpp">// [0.0, 4.0, 16.0, 36.0, 64.0]
const TArray&lt;float&gt; Result = IterRange(0, 10)
								 .Filter([](const auto&amp; Value) { return Value % 2 == 0; })
								 .Map&lt;float&gt;([](const auto&amp; Value) { return static_cast&lt;float&gt;(Value * Value); })
								 .CollectArray();
</code></pre>
<ul>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#adapt"><strong><code>TQuery::Adapt</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#chain"><strong><code>TQuery::Chain</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#enumerate"><strong><code>TQuery::Enumerate</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#filter"><strong><code>TQuery::Filter</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#filtermap"><strong><code>TQuery::FilterMap</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#flatten"><strong><code>TQuery::Flatten</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#inspect"><strong><code>TQuery::Inspect</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#map"><strong><code>TQuery::Map</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#skip"><strong><code>TQuery::Skip</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#take"><strong><code>TQuery::Take</code></strong></a></li>
<li><a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#zip"><strong><code>TQuery::Zip</code></strong></a></li>
</ul>
</li>
</ul>
<h1 id="creating-custom-iterators"><a class="header" href="#creating-custom-iterators">Creating custom iterators</a></h1>
<p>While built-in iterators provided by SystemsArchitecture should be enough for common usecases,
sometimes for more advanced solutions you might find yourself in a need of creating a custom
iterator that cannot be solved using built-in ones.</p>
<h2 id="anatomy-if-iterators"><a class="header" href="#anatomy-if-iterators">Anatomy if iterators</a></h2>
<p>Let's take a look at Repeat iterator:</p>
<pre><code class="language-cpp">#pragma once

#include &quot;CoreMinimal.h&quot;

// Make sure to include converters declaration header first.
#include &quot;Systems/Public/Iterator/ConvertersDecl.h&quot;

// Then converters, macros and size hint, order doesn't matter here.
#include &quot;Systems/Public/Iterator/Converters.h&quot;
#include &quot;Systems/Public/Iterator/Macros.h&quot;
#include &quot;Systems/Public/Iterator/SizeHint.h&quot;

// This iterator is generalized over type of values it yields.
template &lt;typename T&gt;
struct TIterRepeat
{
public:
	// We need to provide type aliases for iterators injected with macros will
	// properly understand this iterato when wrapping it internally.
	using Self = TIterRepeat&lt;T&gt;;
	using Item = typename T;

	TIterRepeat() : Value(TOptional&lt;T&gt;())
	{
	}

	TIterRepeat(T Data) : Value(TOptional&lt;T&gt;(Data))
	{
	}

	// Provide `Next` method that returns optional value of item type.
	TOptional&lt;Item&gt; Next()
	{
		return TOptional&lt;T&gt;(this-&gt;Value);
	}

	// Provide `Sizehint` method thar returns hint about estimated range of
	// items it can yield.
	IterSizeHint SizeHint() const
	{
		return IterSizeHint{0, TOptional&lt;uint32&gt;()};
	}

private:
	TOptional&lt;T&gt; Value = {};

public:
	// To make iterators chains we call special macro that injects all other
	// built-in iterators as this one methods.
	ITER_IMPL
};

// Provide handy construction function for ergonomics, just because of C++
// having easier times with types deduction on them.
template &lt;typename T&gt;
TIterRepeat&lt;T&gt; IterRepeat(T Value)
{
	return TIterRepeat&lt;T&gt;(Value);
}
</code></pre>
<ul>
<li>
<p><code>Self</code> type alias</p>
<p>Iterators chaining is done by wrapping consecutive iterators in one another so when consumer
calls <code>Next</code>, it internally calls <code>Next</code> of iterator it wraps, and so on. To make them easily
injectable with macros, they use <code>Self</code> as an alias for their type.</p>
</li>
<li>
<p><code>Item</code> type alias</p>
<p>Type alias for type of value that this iterator yields. Not stores, not takes as an input -
exactly one that it yields. This is again used for iterators wrapping purposes so converter
iterators that wraps other iterators can identify value type of previous one in chain by
<code>typename ITERATOR::Item</code>.</p>
</li>
<li>
<p><code>Next</code> method</p>
<p>Every iterator should implement <code>TOptional&lt;Item&gt; Next()</code> method. This method does the actual
job of yielding a value.</p>
<p>See <a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#next"><strong><code>TQuery::Next</code></strong></a>.</p>
</li>
<li>
<p><code>SizeHint</code> method.</p>
<p>Size hints are used by for example collector iterators to estimate the capacity of collection
where yielded data will be stored. This at most removes reallocations when adding every next
value into that collection, and at least reduces it to some reasonable number.</p>
<p>Finite iterators will give lower bounds and upper bounds set, infinite iterators will give
only lower bounds.</p>
<p>See <a href="/Unreal-Systems-Architecture/systems/reference/structs/TQuery.html#sizehint"><strong><code>TQuery::SizeHint</code></strong></a>, <a href="/reference/structs/IterSizeHint.html"><strong><code>IterSizeHint</code></strong></a>.</p>
</li>
<li>
<p><code>ITER_IMPL</code> macro</p>
<p>This macro injects other iterators as methods of this one. Without it user would be left with
ugly iterators chains made by passing next stages as argument to iterator functions/constructors.</p>
</li>
</ul>
<h2 id="iterator-adapters"><a class="header" href="#iterator-adapters">Iterator adapters</a></h2>
<p>In some rare cases you might find yourself struggling to express your data processing with built-in
iterators, or you must to make some optimizations that cannot be solved using provided ones. For
this advanced usecase you can create custom iterator adapters that works basically the same way as
converter iterators.</p>
<pre><code class="language-cpp">template &lt;typename T&gt;
struct TIterOddAdapter
{
public:
	template &lt;typename I&gt;
	TOptional&lt;T&gt; Next(I&amp; Iter)
	{
		Iter.Next();
		return Iter.Next();
	}

	template &lt;typename I&gt;
	IterSizeHint SizeHint(const I&amp; Iter) const
	{
		return Iter.SizeHint();
	}
};
</code></pre>
<pre><code class="language-cpp">// [1, 3, 5, 7, 9]
const TArray&lt;int&gt; Result = IterRange(0, 10).Adapt(TIterOddAdapter&lt;int&gt;()).CollectArray();
</code></pre>
<p>They differ from regular iterators in a way that they do not need type aliases and their <code>Next</code> and
<code>SizeHint</code> methods require reference to previous stage iterator so they both consume and process its
yielded values.</p>
<hr />
<p><em>Documentation built with <a href="https://github.com/PsichiX/unreal-doc"><strong><code>Unreal-Doc</code> v1.0.6</strong></a> tool by <a href="https://github.com/PsichiX"><strong><code>PsichiX</code></strong></a></em></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../book/architecture/pipelines.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../book/architecture/channels.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../book/architecture/pipelines.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../book/architecture/channels.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
